<!DOCTYPE html>
<html>
<head>
    <title>Meal Tracker Calendar</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            max-width: 850px;
            margin: auto;
            padding: 20px;
            background: url('https://images.unsplash.com/photo-1467003909585-2f8a72700288?auto=format&fit=crop&w=1200&q=80') no-repeat center center fixed;
            background-size: cover;
        }
        h1 {
            text-align: center;
            font-size: 2em;
            color: #fff8f0;
            text-shadow: 0 2px 8px #8b451350;
        }
        .meal-inputs, table {
            background: rgba(255,255,255,0.88);
            border-radius: 12px;
            box-shadow: 0 2px 12px #dc662180;
        }
        .meal-inputs {
            display: flex;
            flex-direction: column;
            padding: 18px;
            margin-bottom: 12px;
        }
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #eecda3;
            padding: 8px;
            text-align: center;
        }
        th {
            background: #ffcc99;
        }
        input, button, textarea {
            padding: 6px;
            font-size: 15px;
            margin: 3px 0;
            border-radius: 6px;
            border: 1px solid #ffa044;
        }
        .save-btn, .edit-btn, .delete-btn, .update-btn, .cancel-btn {
            background: #ffad60;
            color: white;
            border: none;
            cursor: pointer;
            margin-right: 4px;
        }
        .save-btn:hover, .edit-btn:hover, .delete-btn:hover, .update-btn:hover, .cancel-btn:hover {
            background: #ef6c18;
        }
        @media(max-width:600px) {
            table, .meal-inputs {
                font-size: 13px;
            }
        }
    </style>
</head>
<body>

    <h1>Meal Tracker Calendar</h1>

    <div class="meal-inputs">
        <label for="date">Select Date:</label>
        <input type="date" id="date">

        <label>Breakfast</label>
        <input type="text" id="breakfast" placeholder="E.g. Dosa, Idli, Eggs">

        <label>Lunch</label>
        <input type="text" id="lunch" placeholder="E.g. Sambar Rice, Salad">

        <label>Dinner</label>
        <input type="text" id="dinner" placeholder="E.g. Chapati, Dal, Paneer">

        <label>Remarks</label>
        <textarea id="remarks" placeholder="Enter any notes or impressions..."></textarea>

        <button class="save-btn" onclick="saveMeal()">Save Meal</button>
    </div>

    <h2 style="color:#fff8f0;text-shadow:0 2px 8px #8b451350;">Meal Records</h2>
    <table id="mealTable">
        <thead>
            <tr>
                <th>Date</th>
                <th>Breakfast</th>
                <th>Lunch</th>
                <th>Dinner</th>
                <th>Remarks</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        let mealData = JSON.parse(localStorage.getItem('mealData')) || {};
        let editingDate = null;

        function saveMeal() {
            const date = document.getElementById('date').value;
            const breakfast = document.getElementById('breakfast').value;
            const lunch = document.getElementById('lunch').value;
            const dinner = document.getElementById('dinner').value;
            const remarks = document.getElementById('remarks').value;

            if (!date) {
                alert("Please select a date!");
                return;
            }

            mealData[date] = { breakfast, lunch, dinner, remarks };
            localStorage.setItem('mealData', JSON.stringify(mealData));
            renderTable();
            clearInputs();
        }

        function renderTable() {
            const tbody = document.querySelector('#mealTable tbody');
            tbody.innerHTML = '';
            const sortedDates = Object.keys(mealData).sort().reverse();
            for (let date of sortedDates) {
                if (editingDate === date) {
                    tbody.innerHTML += editRow(date, mealData[date]);
                } else {
                    const row = `<tr>
                        <td>${date}</td>
                        <td>${mealData[date].breakfast || ''}</td>
                        <td>${mealData[date].lunch || ''}</td>
                        <td>${mealData[date].dinner || ''}</td>
                        <td>${mealData[date].remarks || ''}</td>
                        <td>
                            <button class="edit-btn" onclick="editMeal('${date}')">Edit</button>
                            <button class="delete-btn" onclick="deleteMeal('${date}')">Delete</button>
                        </td>
                    </tr>`;
                    tbody.innerHTML += row;
                }
            }
        }

        function editMeal(date) {
            editingDate = date;
            renderTable();
        }

        function editRow(date, meal) {
            return `<tr>
                <td>${date}</td>
                <td><input type="text" id="edit_breakfast" value="${meal.breakfast || ''}"></td>
                <td><input type="text" id="edit_lunch" value="${meal.lunch || ''}"></td>
                <td><input type="text" id="edit_dinner" value="${meal.dinner || ''}"></td>
                <td><textarea id="edit_remarks">${meal.remarks || ''}</textarea></td>
                <td>
                    <button class="update-btn" onclick="updateMeal('${date}')">Update</button>
                    <button class="cancel-btn" onclick="cancelEdit()">Cancel</button>
                </td>
            </tr>`;
        }

        function updateMeal(date) {
            mealData[date] = {
                breakfast: document.getElementById('edit_breakfast').value,
                lunch: document.getElementById('edit_lunch').value,
                dinner: document.getElementById('edit_dinner').value,
                remarks: document.getElementById('edit_remarks').value
            };
            localStorage.setItem('mealData', JSON.stringify(mealData));
            editingDate = null;
            renderTable();
        }

        function cancelEdit() {
            editingDate = null;
            renderTable();
        }

        function deleteMeal(date) {
            if (confirm("Are you sure you want to delete this entry?")) {
                delete mealData[date];
                localStorage.setItem('mealData', JSON.stringify(mealData));
                renderTable();
            }
        }

        function clearInputs() {
            document.getElementById('breakfast').value = '';
            document.getElementById('lunch').value = '';
            document.getElementById('dinner').value = '';
            document.getElementById('remarks').value = '';
        }

        // Initial load
        renderTable();
    </script>

</body>
</html>